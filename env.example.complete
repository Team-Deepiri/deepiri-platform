# ========================================
# TRIPBLIP MAG 2.0 - COMPLETE ENVIRONMENT CONFIGURATION
# ========================================
# Copy this file to .env and configure your actual values
# For development: cp env.example.complete .env.dev
# For production: cp env.example.complete .env.prod

# ========================================
# ENVIRONMENT & DEPLOYMENT
# ========================================
NODE_ENV=development                    # development|production|test
DEPLOYMENT_ENVIRONMENT=local           # local|docker|aws|gcp|azure
CLIENT_URL=http://localhost:5173       # Frontend URL
SERVER_URL=http://localhost:5000       # Backend URL

# ========================================
# DATABASE CONFIGURATION
# ========================================

# MongoDB (Primary Database)
MONGODB_URI=mongodb://admin:password@localhost:27017/tripblip_mag?authSource=admin
MONGODB_TEST_URI=mongodb://admin:password@localhost:27017/tripblip_test?authSource=admin

# MongoDB Docker Configuration
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=secure_mongo_password_123
MONGO_DB=tripblip_mag

# Redis (Cache & Sessions)
REDIS_URL=redis://:redispassword@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=secure_redis_password_123

# PostgreSQL (Optional - for analytics/reporting)
DATABASE_URL=postgresql://postgres:password@localhost:5432/tripblip_analytics

# ========================================
# AUTHENTICATION & SECURITY
# ========================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_TTL_DAYS=30

# Session Configuration
SESSION_SECRET=your-session-secret-key-here
SESSION_TIMEOUT=3600000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000            # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100            # Max requests per window
RATE_LIMIT_SKIP_SUCCESSFUL=true        # Skip counting successful requests

# IP Filtering
IP_ALLOW_LIST=                         # Comma-separated IPs to always allow
IP_DENY_LIST=                          # Comma-separated IPs to block
CORS_ORIGIN=http://localhost:5173      # Frontend origins

# ========================================
# FIREBASE CONFIGURATION
# ========================================
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Firebase-Private-Key-Here\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-firebase-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_DATABASE_URL=https://your-project-default-rtdb.firebaseio.com/
FIREBASE_SERVICE_ACCOUNT_PATH=/app/config/firebase-adminsdk.json

# Firebase Client (Frontend)
VITE_FIREBASE_API_KEY=your-firebase-web-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-firebase-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef123456
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# ========================================
# AI & MACHINE LEARNING
# ========================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_AGENT_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7
OPENAI_TOP_P=0.9

# Agent Configuration
AGENT_TEMPERATURE=0.5
AGENT_TOP_P=0.9
AGENT_MAX_MEMORY=10
AGENT_SESSION_TIMEOUT=1800

# Python Agent
PYAGENT_API_KEY=secure-pyagent-key-change-in-production
PYAGENT_URL=http://localhost:8000
VITE_PYAGENT_URL=http://localhost:8000
NODE_BACKEND_URL=http://backend:5000

# ========================================
# EXTERNAL API INTEGRATIONS
# ========================================

# Google Services
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_PLACES_API_KEY=your-google-places-api-key

# Weather Services
OPENWEATHER_API_KEY=your-openweather-api-key

# Event Services
EVENTBRITE_API_KEY=your-eventbrite-api-key
YELP_API_KEY=your-yelp-api-key

# Social Media APIs
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret

# ========================================
# NOTIFICATION SERVICES
# ========================================

# Firebase Cloud Messaging
FCM_SERVER_KEY=your-fcm-server-key

# Twilio (SMS/WhatsApp)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Email Services (SendGrid/Mailgun)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@tripblip.com
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.tripblip.com

# ========================================
# FRONTEND CONFIGURATION (VITE)
# ========================================
VITE_API_URL=http://localhost:5000/api
VITE_WS_URL=ws://localhost:5000
VITE_APP_NAME=Tripblip MAG 2.0
VITE_APP_VERSION=2.0.0
VITE_DEBUG_MODE=true
VITE_GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Feature Flags
VITE_FEATURE_CHAT_ENABLED=true
VITE_FEATURE_SOCIAL_LOGIN=true
VITE_FEATURE_PAYMENTS=false
VITE_FEATURE_ANALYTICS=true

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=5000
HOST=0.0.0.0
SERVER_TIMEOUT=30000
MAX_REQUEST_SIZE=10mb
TRUST_PROXY=true

# File Upload
MAX_FILE_SIZE=10485760                 # 10MB in bytes
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf

# ========================================
# CACHE CONFIGURATION
# ========================================
CACHE_TTL_ADVENTURES=3600              # 1 hour
CACHE_TTL_EVENTS=1800                  # 30 minutes
CACHE_TTL_WEATHER=900                  # 15 minutes
CACHE_TTL_MAPS=3600                    # 1 hour
CACHE_TTL_USER_SESSIONS=7200           # 2 hours

# ========================================
# ADVENTURE GENERATION SETTINGS
# ========================================
DEFAULT_ADVENTURE_DURATION=60          # minutes
MAX_ADVENTURE_DURATION=480             # 8 hours max
MIN_ADVENTURE_DURATION=15              # 15 minutes min
DEFAULT_SEARCH_RADIUS=5000             # 5km in meters
MAX_SEARCH_RADIUS=50000                # 50km max
MIN_SEARCH_RADIUS=500                  # 500m min

# Adventure AI Settings
ADVENTURE_COMPLEXITY_LEVELS=3
ADVENTURE_MAX_STEPS=20
ADVENTURE_MIN_STEPS=3

# ========================================
# MONITORING & LOGGING
# ========================================

# Application Monitoring
LOG_LEVEL=info                         # error|warn|info|debug
LOG_FORMAT=json                        # json|simple
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# Performance Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# Error Tracking (Sentry, etc.)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development

# ========================================
# DEVELOPMENT TOOLS
# ========================================

# File Watching (for Docker development)
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true
FORCE_COLOR=1

# Debug Settings
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_PERFORMANCE=true

# Mock Services (for testing)
MOCK_EXTERNAL_APIS=false
MOCK_PAYMENT_GATEWAY=true
MOCK_EMAIL_SERVICE=true

# ========================================
# DOCKER CONFIGURATION
# ========================================

# Container Settings
DOCKER_RESTART_POLICY=unless-stopped
DOCKER_MEMORY_LIMIT=512m
DOCKER_CPU_LIMIT=0.5

# Network Settings
DOCKER_NETWORK_NAME=tripblip-network
DOCKER_SUBNET=172.20.0.0/16

# ========================================
# SECURITY HEADERS & POLICIES
# ========================================

# Content Security Policy
CSP_SCRIPT_SRC="'self' 'unsafe-inline' https://maps.googleapis.com"
CSP_STYLE_SRC="'self' 'unsafe-inline' https://fonts.googleapis.com"
CSP_IMG_SRC="'self' data: https:"

# HTTPS Settings (Production)
FORCE_HTTPS=false
HSTS_MAX_AGE=31536000

# ========================================
# PAYMENT PROCESSING (if enabled)
# ========================================
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox                    # sandbox|live

# ========================================
# ANALYTICS & TRACKING
# ========================================
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
GOOGLE_TAG_MANAGER_ID=GTM-XXXXXXX
FACEBOOK_PIXEL_ID=1234567890123456

# Custom Analytics
ANALYTICS_ENDPOINT=https://analytics.tripblip.com/collect
ANALYTICS_API_KEY=your-analytics-api-key

# ========================================
# BACKUP & RECOVERY
# ========================================
BACKUP_SCHEDULE=0 2 * * *              # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=tripblip-backups
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
